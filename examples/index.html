<body>

	<h1 style="text-align: center">Open your console.</h1>

	<form id="droptarget" style="border: 1px solid #888; width: 100%; height: 300px;" enctype="multipart/form-data"></form>

	<script src="../dist/console.es6.js"></script>

	<script>

		var f = document.querySelector('#droptarget');

		window.addEventListener("dragover",function(e){
			e = e || event;
			e.preventDefault();
		},false);
		window.addEventListener("drop",function(e){
			e = e || event;
			e.preventDefault();
		},false);

		f.addEventListener('drop', function(e) {

			e.preventDefault();
			e.stopPropagation();

			var img = e.dataTransfer.files[0];

			if (img.type.match('image.*')) {

				var reader = new FileReader();

				reader.onload = (function(img) {
					return function(e) {

						var img = document.createElement('img');
						img.src = e.target.result;
						img.addEventListener('load', function(e){

							var vAspect = img.height / img.width;

							imageToConsole(img, 40, 40 * vAspect).then(function(consoleImage){
								console.clear();
								console.log.apply(console, consoleImage);
							});
						});


					};
				})(img);

				reader.readAsDataURL(img);

			}

			return false;

		});

	</script>

</body>